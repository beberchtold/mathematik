var oLastUrl=null;function OnDownloadFile(){var b,d,a;if(oLastUrl==null){window.URL.revokeObjectURL(oLastUrl);oLastUrl=null}b="Squiggly Sudoku von mathematik.ch\r\n";for(var c=0;c<9;c++){b+=block6gel[c]+"\r\n"}for(c=0;c<9;c++){b+=block6nr[c]+"\r\n"}for(c=0;c<9;c++){b+=vert6[c]+"\r\n"}for(c=0;c<9;c++){b+=block9gel[c]+"\r\n"}for(c=0;c<9;c++){b+=block9nr[c]+"\r\n"}for(c=0;c<9;c++){b+=vert9[c]+"\r\n"}d=new Blob([b],{type:"text/plain"});if(window.navigator.msSaveBlob){window.navigator.msSaveBlob(d,"NeueProbleme.txt")}else{a=document.getElementById("downloadLink");oLastUrl=window.URL.createObjectURL(d);a.href=oLastUrl;a.click()}}var oReader=new FileReader();function OnShowSelectedFile(){var c,a,b;if(oReader.readyState==FileReader.LOADING){oReader.abort()}c=document.getElementById("upload").files;a=document.getElementById("uploadInfo");a.style.display="none";if(c.length>0){if(c[0].type.indexOf("text/")==0){oReader.onloadend=function(){if(oReader.error!=null){a.style.display="block";a.innerHTML="Fehler beim Laden der Datei!"}else{b=oReader.result;var d=b.split("\r\n");if(d[0]!="Squiggly Sudoku von mathematik.ch"){a.style.display="block";a.innerHTML="Keine Datei von mathematik.ch";return}removeneu(6);removeneu(9);for(var e=0;e<9;e++){block6gel[e]=d[e+1].split(",")}for(e=0;e<9;e++){block6nr[e]=d[e+10].split(",")}for(e=0;e<9;e++){vert6[e]=d[e+19].split(",")}for(e=0;e<9;e++){block9gel[e]=d[e+28].split(",")}for(e=0;e<9;e++){block9nr[e]=d[e+37].split(",")}for(e=0;e<9;e++){vert9[e]=d[e+46].split(",")}e=0;while(vert6[e]!=",,,,,"||e==8){addneu(6);e++}e=0;while(vert9[e]!=",,,,,,,,"||e==8){addneu(9);e++}}};oReader.readAsText(c[0])}else{a.style.display="block";a.innerHTML="Das Dateiformat wird nicht unterstÃ¼tzt!"}}};