function resizeCanvas(){var e=document.getElementById("containercanvas");e.width=e.offsetWidth,W=e.width,H=W,einheit=W/(xmax-xmin),initmade?(resize1(),zeichne()):init()}function init(){initmade=!0,window.addEventListener("resize",function(){resizeCanvas()}),canvas1=document.getElementById("myCanvas"),resize1(),ctx=canvas1.getContext("2d"),document.getElementById("VarC1").checked=!0,canvas1.addEventListener("mousedown",function(){mousedown=!0},!1),canvas1.addEventListener("mouseup",function(){mousedown=!1},!1),canvas1.addEventListener("mousemove",function(e){if(mousedown){var n=getMousePos(canvas1,e),x=invmap(0,n.x),t=invmap(1,n.y);document.getElementById("VarC").checked?(xC=x,yC=t,xC1=xM+r/2,zeichne()):(xC1=x,xC1>xM-r&&xM+r>xC1&&(oben=t>=0,zeichne()))}},!1),zeichne()}function resize1(){canvas1.width=W,canvas1.height=H}function OnChangeCheckbox1(e){document.getElementById("VarC").checked=e.checked?!1:!0}function OnChangeCheckbox2(e){document.getElementById("VarC1").checked=e.checked?!1:!0}function Line(e,n,x,t){ctx.beginPath(),ctx.moveTo(map(0,e),map(1,n)),ctx.lineWidth="1",ctx.lineTo(map(0,x),map(1,t)),ctx.stroke()}function map(e,n){var x=2;return.5>e&&(x=(n-xmin)/(xmax-xmin)*W),e>.5&&(x=(ymax-n)/(ymax-ymin)*H),x}function invmap(e,n){var x=2;return.5>e&&(x=xmin+n*(xmax-xmin)/W),e>.5&&(x=-n*(ymax-ymin)/H-ymin),x}function zeichne(){ctx.clearRect(0,0,W,H),ctx.beginPath(),ctx.strokeStyle="black",ctx.lineWidth="1",Line(xmin,yA,xmax,yB),Line(xB,yB,xC,yC),Line(xA,yA,xC,yC),ctx.font="14px Arial",ctx.fillText("A",map(0,xA)-5,map(1,yA)+12),ctx.fillText("B",map(0,xB)-5,map(1,yB)+12),yC>0?ctx.fillText("C",map(0,xC),map(1,yC)-5):ctx.fillText("C",map(0,xC),map(1,yC)+12);var e=BerechneLaenge(xB,yB,xC,yC),n=BerechneLaenge(xA,yA,xC,yC),x=n/e;b_zu_a.innerHTML=Math.round(1e3*x)/1e3,xT1=xA+x*c/(1+x),xT2=xA+x*c/(x-1),ctx.fillText("T1",map(0,xT1)-10,map(1,yT1)+12),ctx.fillText("T2",map(0,xT2)-10,map(1,yT2)+12),ctx.strokeStyle="red",Line(xT1,yT1,xC,yC),Line(xT2,yT2,xC,yC),e=BerechneLaenge(xB,yB,xT1,yT1),n=BerechneLaenge(xA,yA,xT1,yT1),x=n/e,AT1_zu_BT1.innerHTML=Math.round(1e3*x)/1e3,e=BerechneLaenge(xB,yB,xT2,yT2),n=BerechneLaenge(xA,yA,xT2,yT2),x=n/e,AT2_zu_BT2.innerHTML=Math.round(1e3*x)/1e3,xM=(xT1+xT2)/2,r=BerechneLaenge(xM,yM,xT2,yT2),yC1=f(xC1),oben||(yC1=-yC1),Line(xT1,yT1,xC1,yC1),Line(xT2,yT2,xC1,yC1),e=BerechneLaenge(xB,yB,xC1,yC1),n=BerechneLaenge(xA,yA,xC1,yC1),x=n/e,AC1_zu_BC1.innerHTML=Math.round(1e3*x)/1e3,ctx.stroke(),ctx.beginPath(),ctx.strokeStyle="blue",ctx.arc(map(0,xM),map(1,yM),r*einheit,0,2*Math.PI),ctx.stroke(),ctx.beginPath(),ctx.strokeStyle="green",Line(xA,yA,xC1,yC1),Line(xB,yB,xC1,yC1),yC1>0?ctx.fillText("C1",map(0,xC1)-10,map(1,yC1)-5):ctx.fillText("C1",map(0,xC1)-10,map(1,yC1)+12),ctx.stroke()}function dostep(){if(document.getElementById("VarC").checked)xC+=.5,xC>xmax&&(xC=xmin+1),xC1=xM+r/2;else{xC1-xM==0&&(xC1=xM+.1);var e=Math.abs(Math.atan((yC1-yM)/(xC1-xM)));xM>xC1&&yC1>yM&&(e=Math.PI-e),xM>xC1&&yM>yC1&&(e=Math.PI+e),xC1>xM&&yM>yC1&&(e=2*Math.PI-e),e+=5*Math.PI/180,e>Math.PI&&(oben=!1),e>2*Math.PI&&(e-=2*Math.PI,oben=!0),xC1=xM+r*Math.cos(e)}zeichne()}function getMousePos(e,n){var x=e.getBoundingClientRect();return{x:n.clientX-x.left,y:n.clientY-x.top}}function f(e){var n=0;return n=Math.sqrt(r*r-(e-xM)*(e-xM))}function BerechneLaenge(e,n,x,t){var a=Math.sqrt((x-e)*(x-e)+(t-n)*(t-n));return a}var W,H;xmax=10,xmin=-xmax,ymax=xmax,ymin=-ymax;var einheit;xA=-8,yA=0,xB=2,yB=0,c=xB-xA;var xC=6,yC=5,xC1=4,yC1,xT1;yT1=0;var xT2;yT2=0;var xM;yM=0;var r,oben=!1,canvas1,ctx,mousedown=!1,initmade=!1;window.onload=resizeCanvas;