var W;var H;xmax=10;xmin=-xmax;ymax=xmax;ymin=-ymax;var einheit;xA=-8;yA=0;xB=2;yB=0;c=xB-xA;var xC=6;var yC=5;var xC1=4;var yC1;var xT1;yT1=0;var xT2;yT2=0;var xM;yM=0;var r;var oben=false;var canvas1;var ctx;var mousedown=false;var initmade=false;window.onload=resizeCanvas;function resizeCanvas(){var a=document.getElementById("containercanvas");a.width=a.offsetWidth;W=a.width;H=W;einheit=W/(xmax-xmin);if(initmade){resize1();zeichne()}else{init()}}function init(){initmade=true;window.addEventListener("resize",function(a){resizeCanvas()});canvas1=document.getElementById("myCanvas");resize1();ctx=canvas1.getContext("2d");document.getElementById("VarC1").checked=true;canvas1.addEventListener("mousedown",function(a){mousedown=true},false);canvas1.addEventListener("mouseup",function(a){mousedown=false},false);canvas1.addEventListener("mousemove",function(b){if(mousedown){var a=getMousePos(canvas1,b);var e=invmap(0,a.x);var d=invmap(1,a.y);if(document.getElementById("VarC").checked){xC=e;yC=d;xC1=xM+r/2;zeichne()}else{xC1=e;if((xC1>xM-r)&&(xC1<xM+r)){oben=(d>=0);zeichne()}}}},false);zeichne()}function resize1(){canvas1.width=W;canvas1.height=H}function Line(b,e,a,d){ctx.beginPath();ctx.moveTo(map(0,b),map(1,e));ctx.lineWidth="1";ctx.lineTo(map(0,a),map(1,d));ctx.stroke()}function map(a,d){var b=2;if(a<0.5){b=(d-xmin)/(xmax-xmin)*W}if(a>0.5){b=(ymax-d)/(ymax-ymin)*H}return b}function invmap(a,d){var b=2;if(a<0.5){b=xmin+(d*(xmax-xmin))/W}if(a>0.5){b=(-d*(ymax-ymin))/H-ymin}return b}function zeichne(){ctx.clearRect(0,0,W,H);ctx.beginPath();ctx.strokeStyle="black";ctx.lineWidth="1";Line(xmin,yA,xmax,yB);Line(xB,yB,xC,yC);Line(xA,yA,xC,yC);ctx.font="14px Arial";ctx.fillText("A",map(0,xA)-5,map(1,yA)+12);ctx.fillText("B",map(0,xB)-5,map(1,yB)+12);if(yC>0){ctx.fillText("C",map(0,xC),map(1,yC)-5)}else{ctx.fillText("C",map(0,xC),map(1,yC)+12)}var e=BerechneLaenge(xB,yB,xC,yC);var d=BerechneLaenge(xA,yA,xC,yC);var g=d/e;b_zu_a.innerHTML=Math.round(1000*g)/1000;xT1=xA+g*c/(1+g);xT2=xA+g*c/(g-1);ctx.fillText("T1",map(0,xT1)-10,map(1,yT1)+12);ctx.fillText("T2",map(0,xT2)-10,map(1,yT2)+12);ctx.strokeStyle="red";Line(xT1,yT1,xC,yC);Line(xT2,yT2,xC,yC);e=BerechneLaenge(xB,yB,xT1,yT1);d=BerechneLaenge(xA,yA,xT1,yT1);g=d/e;AT1_zu_BT1.innerHTML=Math.round(1000*g)/1000;e=BerechneLaenge(xB,yB,xT2,yT2);d=BerechneLaenge(xA,yA,xT2,yT2);g=d/e;AT2_zu_BT2.innerHTML=Math.round(1000*g)/1000;xM=(xT1+xT2)/2;r=BerechneLaenge(xM,yM,xT2,yT2);yC1=f(xC1);if(!oben){yC1=-yC1}Line(xT1,yT1,xC1,yC1);Line(xT2,yT2,xC1,yC1);e=BerechneLaenge(xB,yB,xC1,yC1);d=BerechneLaenge(xA,yA,xC1,yC1);g=d/e;AC1_zu_BC1.innerHTML=Math.round(1000*g)/1000;ctx.stroke();ctx.beginPath();ctx.strokeStyle="blue";ctx.arc(map(0,xM),map(1,yM),r*einheit,0,2*Math.PI);ctx.stroke();ctx.beginPath();ctx.strokeStyle="green";Line(xA,yA,xC1,yC1);Line(xB,yB,xC1,yC1);if(yC1>0){ctx.fillText("C1",map(0,xC1)-10,map(1,yC1)-5)}else{ctx.fillText("C1",map(0,xC1)-10,map(1,yC1)+12)}ctx.stroke()}function dostep(){if(document.getElementById("VarC").checked){xC=xC+0.5;if(xC>xmax){xC=xmin+1}xC1=xM+r/2}else{if(xC1-xM==0){xC1=xM+0.1}var a=Math.abs(Math.atan((yC1-yM)/(xC1-xM)));if((xC1<xM)&&(yC1>yM)){a=Math.PI-a}if((xC1<xM)&&(yC1<yM)){a=Math.PI+a}if((xC1>xM)&&(yC1<yM)){a=2*Math.PI-a}a=a+Math.PI*5/180;if(a>Math.PI){oben=false}if(a>2*Math.PI){a=a-2*Math.PI;oben=true}xC1=xM+r*Math.cos(a)}zeichne()}function getMousePos(b,a){var d=b.getBoundingClientRect();return{x:a.clientX-d.left,y:a.clientY-d.top}}function f(a){var b=0;b=Math.sqrt(r*r-(a-xM)*(a-xM));return b}function BerechneLaenge(b,g,a,d){var e=Math.sqrt((a-b)*(a-b)+(d-g)*(d-g));return e};