function resizeCanvas(){var t=document.getElementById("containercanvas");t.width=t.offsetWidth,W=t.width,Ho=.8*W,initmade?(resize1(),start()):init()}function init(){initmade=!0,window.addEventListener("resize",function(){resizeCanvas()}),canvas1=document.getElementById("myCanvas"),resize1(),ctx=canvas1.getContext("2d"),start()}function resize1(){canvas1.width=W,canvas1.height=Ho}function start(){Phi[1]=parseFloat(document.getElementById("PHI1").value),Phi[1]>Math.PI&&(Phi[1]=Phi[1]-2*Math.PI,document.getElementById("PHI1").value=Phi[1]),Phi[1]<-Math.PI&&(Phi[1]=Phi[1]+2*Math.PI,document.getElementById("PHI1").value=Phi[1]),Phi[3]=parseFloat(document.getElementById("PHI2").value),Phi[3]>Math.PI&&(Phi[3]=Phi[3]-2*Math.PI,document.getElementById("PHI2").value=Phi[3]),Phi[3]<-Math.PI&&(Phi[3]=Phi[3]+2*Math.PI,document.getElementById("PHI2").value=Phi[3]),h=parseFloat(document.getElementById("Schrittweite").value),1e-4>h&&(h=1e-4,document.getElementById("Schrittweite").value=h),h>.04&&(h=.04,document.getElementById("Schrittweite").value=h),Phi[2]=0,Phi[4]=0,x1=W/2,y1=140,x2=x1,y2=y1,ctx.lineWidth="1",ctx.font="12px Arial",Zeichne()}function dostep(){stop=!0,timer=setTimeout(function(){action()},delay),Runge(),Zeichne(),dorun()}function run(){Weiter=!Weiter,document.getElementById("STEP").disabled=Weiter?!0:!1,stop=!1,dorun()}function action(){stop=!1,clearTimeout(timer),dorun()}function dorun(){!stop&&Weiter&&dostep()}function f(t,e,i,h){var n,a,P;n=9*Math.sin(2*t-2*i),a=l*Math.sin(t-i),P=9*Math.cos(2*t-2*i)-23,k[1]=e,k[2]=(27*g*Math.sin(t)+9*g*Math.sin(t-2*i)+n*e*e+12*a*h*h)/P,k[3]=h,k[4]=(21*g*Math.sin(i)-27*g*Math.sin(2*t-i)-n*h*h-48*a*e*e)/P}function Runge(){var t,e=[0,0,0,0,0],i=[0,0,0,0,0],n=[0,0,0,0,0],a=[0,0,0,0,0];for(f(Phi[1],Phi[2],Phi[3],Phi[4]),t=1;4>=t;t++)e[t]=k[t];for(t=1;4>=t;t++)Phialt[t]=Phi[t]+h/2*e[t];for(f(Phialt[1],Phialt[2],Phialt[3],Phialt[4]),t=1;4>=t;t++)i[t]=k[t];for(t=1;4>=t;t++)Phialt[t]=Phi[t]+h/2*i[t];for(f(Phialt[1],Phialt[2],Phialt[3],Phialt[4]),t=1;4>=t;t++)n[t]=k[t];for(t=1;4>=t;t++)Phialt[t]=Phi[t]+h*n[t];for(f(Phialt[1],Phialt[2],Phialt[3],Phialt[4]),t=1;4>=t;t++)a[t]=k[t];for(t=1;4>=t;t++)Phi[t]=Phi[t]+h/6*(e[t]+2*i[t]+2*n[t]+a[t]);Phi[1]>Math.PI&&(Phi[1]=Phi[1]-2*Math.PI),Phi[1]<-Math.PI&&(Phi[1]=Phi[1]+2*Math.PI),Phi[3]>Math.PI&&(Phi[3]=Phi[3]-2*Math.PI),Phi[3]<-Math.PI&&(Phi[3]=Phi[3]+2*Math.PI)}function line(t,e,i,h,n){ctx.beginPath(),ctx.strokeStyle=n,ctx.moveTo(t,e),ctx.lineTo(i,h),ctx.stroke(),ctx.endPath}function Zeichne(){var t;ctx.clearRect(0,0,W,Ho),ctx.strokeStyle="red",ctx.strokeText("Phi1 = ",10,100),ctx.strokeText("Phi1' = ",10,120),ctx.strokeStyle="blue",ctx.strokeText("Phi2 = ",10,150),ctx.strokeText("Phi2' = ",10,170),x1=Math.round(pl*Math.sin(Phi[1]))+W/2,y1=Math.round(pl*Math.cos(Phi[1]))+140,x2=Math.round(pl*Math.sin(Phi[3]))+x1,y2=Math.round(pl*Math.cos(Phi[3]))+y1,line(W/2,140,x1,y1,"red"),t=Phi[1].toString(),t=t.substr(0,5),ctx.strokeText(t,50,100),t=Phi[2].toString(),t=t.substr(0,5),ctx.strokeText(t,50,120),line(x1,y1,x2,y2,"blue"),t=Phi[3].toString(),t=t.substr(0,5),ctx.strokeText(t,50,150),t=Phi[4].toString(),t=t.substr(0,5),ctx.strokeText(t,50,170)}var W,Ho;const g=9.80665,l=1,pl=70;var Phi=[0,2.84,0,-1.57,0],Phialt=[0,0,0,0,0],k=[0,0,0,0,0],x1,y1,x2,y2,h,ctx,canvas1,initmade=!1,timer;delay=50;var Weiter=!1,stop;window.onload=resizeCanvas;