function resizeCanvas(){var e=document.getElementById("containercanvas");e.width=e.offsetWidth,W=e.width,H=W,initmade?(resize1(),zeichne()):init()}function init(){initmade=!0,window.addEventListener("resize",function(){resizeCanvas()}),canvas1=document.getElementById("myCanvas"),resize1(),ctx=canvas1.getContext("2d"),document.getElementById("VarC").checked=!0,canvas1.addEventListener("mousedown",function(){mousedown=!0},!1),canvas1.addEventListener("mouseup",function(){mousedown=!1},!1),canvas1.addEventListener("mousemove",function(e){if(mousedown){var t=getMousePos(canvas1,e),x=invmap(0,t.x),n=invmap(1,t.y);document.getElementById("VarB").checked?(xB=x,xB>1&&(xB=1),-1>xB&&(xB=-1),yB=f(xB),0>n&&(yB=-yB),zeichne()):(xC=x,xC>1&&(xC=1),-1>xC&&(xC=-1),yC=f(xC),0>n&&(yC=-yC),zeichne())}},!1),zeichne()}function resize1(){canvas1.width=W,canvas1.height=H}function reset(){document.getElementById("VarC").checked=!0,document.getElementById("VarB").checked=!1,xB=-xA,yB=yA,xC=-.2,yC=f(xC),zeichne()}function OnChangeCheckbox1(e){document.getElementById("VarB").checked=e.checked?!1:!0}function OnChangeCheckbox2(e){document.getElementById("VarC").checked=e.checked?!1:!0}function Line(e,t,x,n){ctx.beginPath(),ctx.moveTo(map(0,e),map(1,t)),ctx.lineWidth="1",ctx.lineTo(map(0,x),map(1,n)),ctx.stroke()}function map(e,t){return s=2,.5>e&&(s=(t-xmin)/(xmax-xmin)*W),e>.5&&(s=(ymax-t)/(ymax-ymin)*H),s}function invmap(e,t){return ss=2,.5>e&&(ss=xmin+t*(xmax-xmin)/W),e>.5&&(ss=-t*(ymax-ymin)/H-ymin),ss}function zeichne(){ctx.clearRect(0,0,W,H),ctx.beginPath(),ctx.strokeStyle="black",ctx.lineWidth="1",ctx.arc(W/2,H/2,r,0,2*Math.PI),ctx.stroke(),ctx.beginPath(),Line(xA,yA,xC,yC),Line(xB,yB,xC,yC),Line(xA,yA,xB,yB),xMa=(xB+xC)/2,yMa=(yB+yC)/2,xMb=(xA+xC)/2,yMb=(yA+yC)/2,xMc=(xA+xB)/2,yMc=(yA+yB)/2,Line(xMa,yMa,xMc,yMc),Line(xMb,yMb,xMc,yMc),Line(xMa,yMa,xMb,yMb),ctx.stroke(),ctx.beginPath(),ctx.strokeStyle="green",Line(xC,yC,xMc,yMc),Line(xA,yA,xMa,yMa),Line(xB,yB,xMb,yMb);var e=(xA+xB+xC)/3,t=(yA+yB+yC)/3;ctx.stroke(),ctx.beginPath(),ctx.strokeStyle="red";var x=Berechne_t(xB,yB,xC,yC,xA,yA),n=xB+x*(xC-xB),a=yB+x*(yC-yB);Line(xA,yA,n,a),x=Berechne_t(xA,yA,xC,yC,xB,yB);var c=xA+x*(xC-xA),i=yA+x*(yC-yA);Line(xB,yB,c,i),x=Berechne_t(xA,yA,xB,yB,xC,yC);var y=xA+x*(xB-xA),m=yA+x*(yB-yA);Line(xC,yC,y,m);var o=3*e,B=3*t;ctx.stroke(),ctx.beginPath(),ctx.strokeStyle="#A0A0A0";var s=e-.5*(n-e),h=t-.5*(a-t);Line(xMa,yMa,s,h);var C=e-.5*(c-e),M=t-.5*(i-t);Line(xMb,yMb,C,M);var l=e-.5*(y-e),d=t-.5*(m-t);Line(xMc,yMc,l,d),ctx.stroke(),ctx.beginPath(),ctx.strokeStyle="blue",Line(0,0,o,B),ctx.stroke(),ctx.font="14px Arial",ctx.fillText("A",map(0,xA)-10,map(1,yA)+10),ctx.fillText("B",map(0,xB),map(1,yB)+10),ctx.fillText("C",map(0,xC)-10,map(1,yC)+5),ctx.fillText("M",map(0,0)-5,map(1,0)+5),ctx.fillText("A'",map(0,xMa),map(1,yMa)),ctx.fillText("B'",map(0,xMb)-10,map(1,yMb)),ctx.fillText("C'",map(0,xMc)-10,map(1,yMc)+12),ctx.fillText("S",map(0,e),map(1,t)),ctx.fillText("D",map(0,n),map(1,a)),ctx.fillText("E",map(0,c)-10,map(1,i)),ctx.fillText("F",map(0,y),map(1,m)+12),ctx.fillText("H",map(0,o),map(1,B)+10),ctx.fillText("D'",map(0,s)-10,map(1,h)),ctx.fillText("E'",map(0,C),map(1,M)+10),ctx.fillText("F'",map(0,l)-5,map(1,d))}function dostep(){if(document.getElementById("VarB").checked){var e=BerechnePhi(xB,yB);e+=5*Math.PI/180,e>2*Math.PI&&(e-=2*Math.PI),xB=Math.cos(e),yB=Math.sin(e)}else{var e=BerechnePhi(xC,yC);e+=5*Math.PI/180,e>2*Math.PI&&(e-=2*Math.PI),xC=Math.cos(e),yC=Math.sin(e)}zeichne()}function getMousePos(e,t){var x=e.getBoundingClientRect();return{x:t.clientX-x.left,y:t.clientY-x.top}}function f(e){return s=0,s=Math.sqrt(1-e*e)}function BerechnePhi(e,t){var x=Math.abs(Math.atan(t/e));return 0>e&&t>0&&(x=Math.PI-x),0>e&&0>t&&(x=Math.PI+x),e>0&&0>t&&(x=2*Math.PI-x),x}function BerechneWinkel(){var e=Math.sqrt((xB-xA)*(xB-xA)+(yB-yA)*(yB-yA)),t=Math.sqrt((xB-xC)*(xB-xC)+(yB-yC)*(yB-yC)),x=Math.sqrt((xA-xC)*(xA-xC)+(yA-yC)*(yA-yC));return Hilf=0!=t&&0!=x&&0!=e?Math.round(18e3*Math.acos((t*t+x*x-e*e)/2/t/x)/Math.PI)/100:0/0}function Berechne_t(e,x,n,a,c,i){var y=(c-e)*(n-e)+(i-x)*(a-x),m=(n-e)*(n-e)+(a-x)*(a-x);return t=0!=m?y/m:0/0}var W,H;xmax=1.01,xmin=-xmax,ymax=xmax,ymin=-ymax,xm=W/2,ym=H/2,r=W/(xmax-xmin),xA=-.7,yA=-f(xA);var xB=-xA,yB=yA,xC=-.2,yC=f(xC),xMa,yMa,xMb,yMb,xMc,yMc,canvas1,ctx,mousedown=!1,initmade=!1;window.onload=resizeCanvas;