function resizeCanvas(){var e=document.getElementById("containercanvas");e.width=e.offsetWidth,W=e.width,H=W/2,initmade?(resize1(),30>=n&&zeichne()):init()}function Bikoeff(e,n){var t;t=n>e?0:1,n>e-n&&(n=e-n);for(var r=1;n>=r;r++)t=t*(e-r+1)/r;return t}function calcwk(e,n,t){var r=Bikoeff(e,t);for(x=0;t>=x;x++)wkeit[x]=Bikoeff(n,x)*Bikoeff(e-n,t-x)/r}function init(){initmade=!0,window.addEventListener("resize",function(){resizeCanvas()}),canvas1=document.getElementById("myCanvas"),resize1(),ctx=canvas1.getContext("2d"),rechne()}function resize1(){canvas1.width=W,canvas1.height=H}function rechne(){if(""==document.getElementById("m").value)return alert("Wert für n eingeben!"),void 0;if(m=parseInt(document.getElementById("m").value),1>=m||isNaN(m))return alert("falscher Wert für m"),void 0;if(""==document.getElementById("r").value)return alert("Wert für r eingeben!"),void 0;if(r=parseInt(document.getElementById("r").value),0>=r||r>m||isNaN(r))return alert("falscher Wert für r"),void 0;if(""==document.getElementById("n").value)return alert("Wert für n eingeben!"),void 0;if(n=parseInt(document.getElementById("n").value),0>=n||n>m||isNaN(n))return alert("falscher Wert für n"),void 0;if(""==document.getElementById("a").value)return alert("Wert für a eingeben!"),void 0;if(a=parseInt(document.getElementById("a").value),0>a||isNaN(a)||a>n||a>r)return alert("falscher Wert für a"),void 0;if(""==document.getElementById("b").value)return alert("Wert für b eingeben!"),void 0;if(b=parseInt(document.getElementById("b").value),isNaN(b)||b>n||a>b||b>r)return alert("falscher Wert für b"),void 0;summe=0,calcwk(m,r,n);for(var e=a;b>=e;e++)summe+=wkeit[e];mue=n*r/m,sigma=Math.sqrt(n*r/m*(1-r/m)*(m-n)/(m-1)),schreibeWerte(),30>=n?zeichne():ctx.clearRect(0,0,W,H)}function zeichne(){ctx.clearRect(0,0,W,H),ctx.font="11px Arial";for(var e=W/(n+1),t=0;n>=t;t++)ctx.fillStyle=a>t||t>b?"rgb(10,36,106)":"green",ctx.fillRect(t*e,(H-20)*(1-2.5*wkeit[t]),e,2.5*(H-20)*wkeit[t]),ctx.fillText(t,t*e+e/2,H-5)}function schreibeWerte(){var e=sigma*sigma;document.getElementById("M").innerHTML=m,document.getElementById("N").innerHTML=n,document.getElementById("R").innerHTML=r,document.getElementById("A").innerHTML=a,document.getElementById("B").innerHTML=b,document.getElementById("MU").innerHTML=runde(mue),document.getElementById("VAR").innerHTML=runde(e),document.getElementById("SIGMA").innerHTML=runde(sigma),document.getElementById("RESHY").innerHTML=Math.round(1e6*summe)/1e6}function runde(e){return Math.round(1e5*e)/1e5}var W,H,m,r,n,a,b,mue,sigma,wkeit=new Array,summe,canvas1,initmade=!1;window.onload=resizeCanvas;