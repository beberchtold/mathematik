function resizeCanvas(){var e=document.getElementById("containercanvas");e.width=e.offsetWidth,W=e.width,H=.5*W,initmade?(resize1(),zeichne(),zeichnen2()):init()}function init(){initmade=!0,window.addEventListener("resize",function(){resizeCanvas()}),document.getElementById("Zweis").checked=!0,document.getElementById("Wkeit").checked=!0,canvas1=document.getElementById("myCanvas"),canvas2=document.getElementById("myCanvas2"),canvas2.addEventListener("click",function(e){var t=getMousePos(canvas2,e),c=t.x,a=Math.floor(20*(c+W/40)/W),i=a/20;document.getElementById("Pbeta").innerHTML=""+i;var o=1-f(n,i);o=.001>=o?0:Math.round(1e4*o)/100,document.getElementById("Beta").innerHTML=""+o+"%"},!1),resize1(),ctx=canvas1.getContext("2d"),ctx2=canvas2.getContext("2d"),zeichne(),zeichnen2()}function resize1(){canvas1.width=W,canvas1.height=H,canvas2.width=W,canvas2.height=H}function OnChangeCheckbox1(e){e.checked&&(document.getElementById("Rechts").checked=!1,document.getElementById("Zweis").checked=!1,zeichne(),document.getElementById("Pbeta").innerHTML="",document.getElementById("Beta").innerHTML="",zeichnen2())}function OnChangeCheckbox2(e){e.checked&&(document.getElementById("Links").checked=!1,document.getElementById("Zweis").checked=!1,zeichne(),document.getElementById("Pbeta").innerHTML="",document.getElementById("Beta").innerHTML="",zeichnen2())}function OnChangeCheckbox3(e){e.checked&&(document.getElementById("Links").checked=!1,document.getElementById("Rechts").checked=!1,zeichne(),document.getElementById("Pbeta").innerHTML="",document.getElementById("Beta").innerHTML="",zeichnen2())}function OnChangeCheckbox4(e){e.checked?(document.getElementById("Summe").checked=!1,document.getElementById("Summe10").checked=!1,summez=!1,zeichne()):document.getElementById("Wkeit").checked=!0}function OnChangeCheckbox5(e){e.checked?(document.getElementById("Wkeit").checked=!1,document.getElementById("Summe10").checked=!1,summez=!0,yfak=1,zeichne()):document.getElementById("Summe").checked=!0}function OnChangeCheckbox6(e){e.checked?(document.getElementById("Wkeit").checked=!1,document.getElementById("Summe").checked=!1,summez=!0,yfak=10,zeichne()):document.getElementById("Summe10").checked=!0}function einlesen(){p=document.getElementById("p0").value,0>p&&(p=0),p>1&&(p=1),n=parseInt(document.getElementById("Anz").value),1>n&&(p=1),n>300&&(n=300),alpha=document.getElementById("Sniveau").value,.5>alpha&&(alpha=.5),alpha>8.5&&(alpha=8.5),summez=document.getElementById("Summe").checked,zeichne(),zeichnen2()}function zeichne(){ctx.clearRect(0,0,W,H),ctx.beginPath(),ctx.strokeStyle="gray",ctx.rect(0,0,W-1,H-1),ctx.stroke(),axen(n,p,summez,yfak),document.getElementById("Links").checked&&linkss(W,H,n,summez,p,alpha/100,yfak),document.getElementById("Rechts").checked&&rechtss(W,H,n,summez,p,alpha/100,yfak),document.getElementById("Zweis").checked&&zweis(W,H,n,summez,p,alpha/100,yfak)}function comb(e,t){var n=1;if(t>e)n=0;else if(0==t)n=1;else for(var c=1;t>=c;c++)n=n*(e+1-c)/c;return n}function b(e,t,n){var c=comb(e,t)*Math.pow(n,t)*Math.pow(1-n,e-t);return c}function linkss(e,t,n,c,a,i,o){for(var l=!1,r=0,d=Math.floor(n*a),m=b(n,d,a),h=0;n>=h;h++){ctx.beginPath();var u;if(u=.9999>r?b(n,h,a):0,r+=u,i>=r)ctx.strokeStyle="red";else{if(!l){l=!0,abu=h,abo=n,document.getElementById("VerB").innerHTML="{0 .. "+(h-1)+"}";var x=Math.ceil(1e5*(r-u))/1e3;document.getElementById("Alpha").innerHTML=""+x+"%"}ctx.strokeStyle="blue"}zeichnen(e,t,h,n,c,r,u,o,m),ctx.stroke()}if(c){ctx.beginPath(),ctx.strokeStyle="magenta";var s=t-Math.floor((.05+.9*i*o)*t);line(0,s,e-1,s),ctx.stroke()}}function rechtss(e,t,n,c,a,i,o){for(var l=!1,r=0,d=Math.floor(n*a),m=b(n,d,a),h=n;h>=0;h--){ctx.beginPath();var u;if(u=.9999>r?b(n,h,a):0,r+=u,i>=r)ctx.strokeStyle="red";else{if(!l){l=!0,abu=0,abo=h,document.getElementById("VerB").innerHTML="{"+(h+1)+" .. "+n+"}";var x=Math.ceil(1e5*(r-u))/1e3;document.getElementById("Alpha").innerHTML=""+x+"%"}ctx.strokeStyle="blue"}zeichnen(e,t,h,n,c,r,u,o,m),ctx.stroke()}if(c){ctx.beginPath(),ctx.strokeStyle="magenta";var s=t-Math.floor((.05+.9*i*o)*t);line(0,s,e-1,s),ctx.stroke()}}function zweis(e,t,n,c,a,i,o){for(var l="",r=0,d=!1,m=0,h=Math.floor(n*a),u=b(n,h,a),x=0;h>=x;x++){ctx.beginPath();var s;s=.9999>m?b(n,x,a):0,m+=s,i/2>=m?ctx.strokeStyle="red":(d||(d=!0,abu=x,l="{0.."+(x-1)+"}",r=m-s),ctx.strokeStyle="blue"),zeichnen(e,t,x,n,c,m,s,o,u),ctx.stroke()}var k=0;d=!1;for(var x=n;x>h;x--){ctx.beginPath();var s;if(s=.9999>k?b(n,x,a):0,k+=s,i/2>=k)ctx.strokeStyle="red";else{if(!d){d=!0,abo=x,document.getElementById("VerB").innerHTML=l+" & {"+(x+1)+".."+n+"}";var f=Math.ceil(1e5*(r+k-s))/1e3;document.getElementById("Alpha").innerHTML=""+f+"%"}ctx.strokeStyle="blue"}zeichnen(e,t,x,n,c,k,s,o,u),ctx.stroke()}if(c){ctx.beginPath(),ctx.strokeStyle="magenta";var g=t-(.05+.45*i*o)*t;line(0,g,e-1,g),ctx.stroke(),ctx.beginPath();var y=n*a*e/n;ctx.strokeStyle="green",line(y,1,y,t-1),ctx.stroke()}}function zeichnen(e,t,n,c,a,i,o,l,r){var d=n*e/c;if(a){var m=(.05+.9*i*l)*t;ctx.beginPath(),ctx.arc(d-1,t-m-1,1,0,2*Math.PI),ctx.stroke()}else{var m=.9*o*t/r;line(d,.95*t,d,.95*t-m)}}function line(e,t,n,c){ctx.moveTo(e,t),ctx.lineTo(n,c)}function line2(e,t,n,c){ctx2.moveTo(e,t),ctx2.lineTo(n,c)}function axen(e,t,n,c){ctx.font="12px Arial",ctx.beginPath();var a=1,i=b(e,Math.floor(e*t),t);a=n?1/c:Math.ceil(1e3*i)/1e3,ctx.strokeStyle="gray";var o=Math.floor(.05*H);line(0,o,4,o),ctx.fillText(""+a,6,o+8),o=.5*H,line(0,o,4,o),ctx.fillText(""+a/2,6,o+4),o=.95*H,line(0,o,4,o),ctx.fillText("0",6,o);var l=1;do{var r=.25*l*W;line(r,H-5,r,H),ctx.fillText(""+.25*l*e,r-8,H-10)}while(++l<4);ctx.fillText(""+e,W-20,H-10),ctx.stroke()}function axen2(){ctx2.font="12px Arial",ctx2.fillStyle="black",ctx2.beginPath(),ctx2.strokeStyle="gray";var e=.05*H;line2(0,e,4,e),ctx2.fillText("1.0",6,e+8),e=.5*H,line2(0,e,4,e),ctx2.fillText("0.5",6,e+4),e=.95*H,line2(0,e,4,e),ctx2.fillText("0",6,e);var t=1;do{var n=.25*t*W;line2(n,H-5,n,H),ctx2.fillText(""+.25*t,n-8,H-6)}while(++t<4);ctx2.fillText("1",W-8,H-6),ctx2.stroke()}function f(e,t){for(var n=0,c=0;abu>c;c++)n+=b(e,c,t);for(var c=abo+1;e>=c;c++)n+=b(e,c,t);return n}function zeichnen2(){ctx2.clearRect(0,0,W,H),ctx2.beginPath(),ctx2.strokeStyle="gray",ctx2.rect(0,0,W-1,H-1),ctx2.stroke(),axen2();ctx2.fillStyle="rgb(180,0,0)";for(var e=.05,t=.05;1>=e;e+=t)yk=(.05+.9*(1-f(n,e)))*H,xk=e*W,ctx2.rect(xk-1,H-1-yk,3,3),ctx2.fill()}function getMousePos(e,t){var n=e.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}}var W,H,abu,abo,n=100,p=.5,alpha=5,summez=!1,yfak=1,ctx,ctx2,canvas1,canvas2,initmade=!1;window.onload=resizeCanvas;