function resizeCanvas(){var e=document.getElementById("containercanvas");e.width=e.offsetWidth,W=e.width,H=.6*W,initmade?(resize1(),zeichne()):init()}function Mittelwert(e,t){for(var n=0,a=0;19>=a;a++)n+=t[a]*(2.5+5*a);return e>0&&(n/=e),n}function Streu(e,t,n){for(var a=0,i=0;19>=i;i++)a+=n[i]*(t-(2.5+5*i))*(t-(2.5+5*i));return e>0&&(a/=e),a}function ypixel(e){return H-20-Math.round(3*(H-40)*e)}function f(e){return 1/Math.sqrt(2*Math.PI)*Math.exp(-e*e/2)}function init(){initmade=!0,window.addEventListener("resize",function(){resizeCanvas()}),canvas1=document.getElementById("myCanvas"),resize1(),ctx=canvas1.getContext("2d"),rechne()}function resize1(){canvas1.width=W,canvas1.height=H}function rechne(){var e=new Array(1e4),t=new Array(100);if(""==document.getElementById("n").value)return alert("Wert für n eingeben!"),void 0;if(n=parseInt(document.getElementById("n").value),1e3>n&&(n=1e3,document.getElementById("n").value=n),n>1e4&&(n=1e4,document.getElementById("n").value=n),""==document.getElementById("N").value)return alert("Wert für N eingeben!"),void 0;for(N=parseInt(document.getElementById("N").value),5>N&&(N=5,document.getElementById("N").value=N),N>20&&(N=20,document.getElementById("N").value=N),total=Math.floor(n/N),k=0;19>=k;k++)anzahl[k]=0;var a=1;t[1]=0;for(var i=1;n>=i;i++)x=Math.random(),e[i]=Math.floor(100*x)+1,t[a]+=e[i],i/N==Math.floor(i/N)&&(k=Math.floor(t[a]/(5*N)),anzahl[k]++,a++,t[a]=0);mue=Mittelwert(total,anzahl);var r=Math.round(100*mue)/100,l=Streu(total,mue,anzahl);sigma=Math.sqrt(l);var o=Math.round(100*sigma)/100;document.getElementById("Total").innerHTML=total,document.getElementById("MittelWert").innerHTML=r,document.getElementById("StandardAbweichung").innerHTML=o,zeichne()}function zeichne(){ctx.clearRect(0,0,W,H),ctx.beginPath(),ctx.lineWidth="1",ctx.font="12px Arial";var e=W/20;for(ctx.fillStyle="black",k=0;19>=k;k++)ctx.fillText(5*k+2,k*e+5,H-1);for(ctx.fillStyle="red",k=0;19>=k;k++)k%2==0?ctx.fillText(anzahl[k],k*e+2,20):ctx.fillText(anzahl[k],k*e+2,30);for(ctx.fillStyle="blue",k=0;19>=k;k++){var t=ypixel(N/n*anzahl[k]);ctx.fillRect(k*e,t,e,H-t-20)}for(ctx.strokeStyle="red",i=0;100>i;i++)t=ypixel(5/sigma*f((i-mue)/sigma)),y2=ypixel(5/sigma*f((i+1-mue)/sigma)),line(W/100*i,t,W/100*(i+1),y2);ctx.stroke()}function line(e,t,n,a){ctx.moveTo(e,t),ctx.lineTo(n,a)}var W,H,n,N,mue,sigma,total,anzahl=new Array(20),canvas1,initmade=!1;window.onload=resizeCanvas;