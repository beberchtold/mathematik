function resizeCanvas(){var t=document.getElementById("containercanvas");t.width=t.offsetWidth,W=t.width,H=W,initmade?(resize1(),zeichne()):init()}function init(){initmade=!0,window.addEventListener("resize",function(){resizeCanvas()}),canvas1=document.getElementById("myCanvas"),resize1(),ctx=canvas1.getContext("2d"),canvas1.addEventListener("mousedown",function(t){var e=getMousePos(canvas1,t),n=e.x,o=e.y;Math.abs(n-col(x1))<5&&Math.abs(o-row(y1))<5&&(point=1),Math.abs(n-col(x2))<5&&Math.abs(o-row(y2))<5&&(point=2)},!1),canvas1.addEventListener("mouseup",function(){point=0},!1),canvas1.addEventListener("mousemove",function(t){if(0!=point){var e=getMousePos(canvas1,t),n=e.x,o=e.y;1==point?(x1=x(n),y1=y(o),-1>x1&&(x1=-1),x1>x2-.2&&(x1=x2-.2),-1>y1&&(y1=-1),y1>1&&(y1=1)):(x2=x(n),y2=y(o),x2>1&&(x2=1),x1+.2>x2&&(x2=x1+.2),-1>y2&&(y2=-1),y2>1&&(y2=1)),compute_kette(),zeichne()}},!1),compute_kette(),zeichne()}function resize1(){canvas1.width=W,canvas1.height=H}function compute_kette(){if((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1)>L*L-.5)return red=!0,void 0;red=!1;for(var t=(x2-x1)/2,e=(y2-y1)/t,n=0,o=0,c=0;30>c&&(n=compute_b(k,b,e),o=compute_k(k,b,L/t),!(Math.abs(b-n)<1e-5&&Math.abs(k-o)<1e-5));)b=n,k=o,c++;b=(x1+x2)/2+n*t,k=o/t}function fs(t,e,n){return(sinh(t*(1-e))-sinh(t*(-1-e)))/t-n}function fc(t,e,n){return(cosh(t*(1-e))-cosh(t*(-1-e)))/t-n}function compute_b(t,e,n){for(var o=e+1,c=fc(t,e,n),i=fc(t,o,n),a=0;Math.abs(o-e)>1e-5&&20>a;){var r=e-c*(o-e)/(i-c);i=c,o=e,e=r,c=fc(t,e,n),a++}return e}function compute_k(t,e,n){for(var o=t+1,c=fs(t,e,n),i=fs(o,e,n),a=0;Math.abs(o-t)>1e-5&&20>a;){var r=t-c*(o-t)/(i-c);0>r&&(r=-r),i=c,o=t,t=r,c=fs(t,e,n),a++}return t}function chain(t,e,n,o){return e+cosh(o*(t-n))/o}function x(t){return-1.2+t/W*2.4}function y(t){return 1.2-t/H*2.4}function col(t){return Math.round((t+1.2)/2.4*W)}function row(t){return Math.round((1.2-t)/2.4*H)}function sinh(t){return(Math.exp(t)-Math.exp(-t))/2}function cosh(t){return(Math.exp(t)+Math.exp(-t))/2}function mark(t,e){ctx.rect(col(t)-5,row(e)-5,10,10),ctx.stroke()}function Line(t,e,n,o){ctx.beginPath(),ctx.moveTo(t,e),ctx.lineTo(n,o),ctx.stroke()}function zeichne(){if(ctx.beginPath(),ctx.strokeStyle="black",ctx.clearRect(0,0,W,H),mark(x1,y1),mark(x2,y2),red)ctx.strokeStyle="red",Line(col(x1),row(y1),col(x2),row(y2));else{var t,e,n,o;t=col(x1),e=row(y1);for(var c=row(y2),i=y1-chain(x1,0,b,k),a=(x2-x1)/N,r=1;N>=r;r++){var s=x1+r*a,x=chain(s,i,b,k);n=col(s),o=row(x),y2>y1&&c>o&&(o=c),Line(t,e,n,o),t=n,e=o}}}function dostep(){x1+=.1,x1>x2-.2&&(x1=-1),compute_kette(),zeichne()}function dostepv(){y1+=.1,y1>1&&(y1=-1),compute_kette(),zeichne()}function getMousePos(t,e){var n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}var W,H,x1=-1,y1=0,x2=.9,y2=.3,k=1,b=0,L=2.5;const N=50;var red=!1,point=0,canvas1,ctx,initmade=!1;window.onload=resizeCanvas;