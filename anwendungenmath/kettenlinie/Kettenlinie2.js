function resizeCanvas(){var t=document.getElementById("containercanvas");t.width=t.offsetWidth,W=t.width,H=W,initmade?(resize1(),zeichne()):init()}function init(){initmade=!0,window.addEventListener("resize",function(){resizeCanvas()}),canvas1=document.getElementById("myCanvas"),resize1(),ctx=canvas1.getContext("2d"),canvas1.addEventListener("mousedown",function(t){var n=getMousePos(canvas1,t),e=n.x,o=n.y;Math.abs(e-col(x1))<5&&Math.abs(o-row(y1))<5&&(point=1),Math.abs(e-col(x2))<5&&Math.abs(o-row(y2))<5&&(point=2)},!1),canvas1.addEventListener("mouseup",function(){point=0},!1),canvas1.addEventListener("mousemove",function(t){if(0!=point){var n=getMousePos(canvas1,t),e=n.x,o=n.y;1==point?(x1=x(e),y1=y(o),-1>x1&&(x1=-1),x1>x2-.2&&(x1=x2-.2),-1>y1&&(y1=-1),y1>1&&(y1=1)):(x2=x(e),y2=y(o),x2>1&&(x2=1),x1+.2>x2&&(x2=x1+.2),-1>y2&&(y2=-1),y2>1&&(y2=1)),compute_kette(),zeichne()}},!1),compute_kette(),zeichne()}function resize1(){canvas1.width=W,canvas1.height=H}function compute_kette(){if((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1)>5.85)return red=!0,void 0;red=!1;for(var t=(x2-x1)/2,n=(y2-y1)/t,e=0,o=0,i=0;80>i&&(e=compute_b(k,b,n),o=compute_k(k,b,L/t),!(Math.abs(b-e)<1e-5&&Math.abs(k-o)<1e-5));)b=e,k=o,i++;b=(x1+x2)/2+e*t,k=o/t}function fs(t,n,e){return(sinh(t*(1-n))-sinh(t*(-1-n)))/t-e}function fc(t,n,e){return(cosh(t*(1-n))-cosh(t*(-1-n)))/t-e}function compute_b(t,n,e){for(var o=n+1,i=fc(t,n,e),r=fc(t,o,e),c=0;Math.abs(o-n)>1e-5&&20>c;){var a=n-i*(o-n)/(r-i);r=i,o=n,n=a,i=fc(t,n,e),c++}return n}function compute_k(t,n,e){for(var o=t+1,i=fs(t,n,e),r=fs(o,n,e),c=0;Math.abs(o-t)>1e-5&&20>c;){var a=t-i*(o-t)/(r-i);0>a&&(a=-a),r=i,o=t,t=a,i=fs(t,n,e),c++}return t}function chain(t,n,e,o){return n+cosh(o*(t-e))/o}function x(t){return-1.2+t/W*2.4}function y(t){return 1.2-t/H*2.4}function col(t){return Math.round((t+1.2)/2.4*W)}function row(t){return Math.round((1.2-t)/2.4*H)}function sinh(t){return(Math.exp(t)-Math.exp(-t))/2}function cosh(t){return(Math.exp(t)+Math.exp(-t))/2}function mark(t,n){ctx.rect(col(t)-5,row(n)-5,10,10),ctx.stroke()}function Line(t,n,e,o){ctx.beginPath(),ctx.moveTo(t,n),ctx.lineTo(e,o),ctx.stroke()}function zeichne(){if(ctx.beginPath(),ctx.strokeStyle="black",ctx.clearRect(0,0,W,H),mark(x1,y1),mark(x2,y2),x1txt.innerHTML=Math.round(1e3*x1)/1e3,y1txt.innerHTML=Math.round(1e3*y1)/1e3,x2txt.innerHTML=Math.round(1e3*x2)/1e3,y2txt.innerHTML=Math.round(1e3*y2)/1e3,red)ctx.strokeStyle="red",Line(col(x1),row(y1),col(x2),row(y2)),btxt.innerHTML="       ",ktxt.innerHTML="       ";else{btxt.innerHTML=Math.round(1e3*b)/1e3,ktxt.innerHTML=Math.round(1e3*k)/1e3;var t,n,e,o;t=col(x1),n=row(y1);for(var i=y1-chain(x1,0,b,k),r=(x2-x1)/N,c=1;N>=c;c++){var a=x1+c*r,x=chain(a,i,b,k);e=col(a),o=row(x),Line(t,n,e,o),t=e,n=o}}}function dostep(){x1+=.1,x1>x2-.2&&(x1=-1),compute_kette(),zeichne()}function dostepv(){y1+=.1,y1>1&&(y1=-1),compute_kette(),zeichne()}function getMousePos(t,n){var e=t.getBoundingClientRect();return{x:n.clientX-e.left,y:n.clientY-e.top}}var W,H,x1=-1,y1=0,x2=.9,y2=.3,k=1,b=0;const L=2.5,N=50;var red=!1,point=0,canvas1,ctx,initmade=!1;window.onload=resizeCanvas;