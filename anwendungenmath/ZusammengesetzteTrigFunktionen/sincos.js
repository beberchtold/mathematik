function resizeCanvas(){var e=document.getElementById("containercanvas");e.width=e.offsetWidth,W=e.width,W>400&&(W=400),H=.75*W,einheitx=W/DiffX,einheity=H/DiffY,initmade?(resize1(),zeichneKS(),zeichne_funktion()):init()}function ok1(){if(Xmin=parseFloat(document.getElementById("Xmin").value),Xmax=parseFloat(document.getElementById("Xmax").value),Ymin=parseFloat(document.getElementById("Ymin").value),Ymax=parseFloat(document.getElementById("Ymax").value),DiffX=Xmax-Xmin,0>DiffX){var e=Xmin;Xmin=Xmax,Xmax=e,DiffX=-DiffX}if(DiffY=Ymax-Ymin,0>DiffY){var e=Xmin;Ymin=Ymax,Ymax=e,DiffY=-DiffY}einheitx=W/DiffX,einheity=H/DiffY}function ok2(){a=parseFloat(document.getElementById("a").value),b=parseFloat(document.getElementById("b").value),h=parseFloat(document.getElementById("h").value),k=parseFloat(document.getElementById("k").value)}function f(e,n,t,c,o){return document.getElementById("ch5").checked?n*Math.sin(t*(e-c*Math.PI))+o:n*Math.cos(t*(e-c*Math.PI))+o}function init(){initmade=!0,window.addEventListener("resize",function(){resizeCanvas()}),canvas1=document.getElementById("myCanvas"),resize1(),ctx=canvas1.getContext("2d"),document.getElementById("ch1").checked=!0,document.getElementById("ch5").checked=!0,canvas1.addEventListener("mousedown",function(){mousedown=!0},!1),canvas1.addEventListener("mouseup",function(){mousedown=!1},!1),canvas1.addEventListener("mousemove",function(e){if(mousedown){var n=getMousePos(canvas1,e),t=n.x,c=n.y;diffx=t-col(0),diffy=c-row(0),document.getElementById("ch1").checked&&(a=-diffy/einheity,a>Ymax&&(a=Ymax),Ymin>a&&(a=Ymin),document.getElementById("a").value=round(a)),document.getElementById("ch4").checked&&(k=-diffy/einheity,k>Ymax&&(k=Ymax),Ymin>k&&(k=Ymin),document.getElementById("k").value=round(k)),document.getElementById("ch2").checked&&(b=diffx/einheitx,b>10&&(b=10),0>b&&(b=.01),document.getElementById("b").value=round(b)),document.getElementById("ch3").checked&&(h=diffx/einheitx,h>2&&(h=2),-2>h&&(h=-2),document.getElementById("h").value=round(h)),zeichne1()}},!1),zeichne1()}function resize1(){canvas1.width=W,canvas1.height=H}function OnChangeCheckbox5(e){e.checked&&(document.getElementById("ch6").checked=!1,zeichne1())}function OnChangeCheckbox6(e){e.checked&&(document.getElementById("ch5").checked=!1,zeichne1())}function OnChangeCheckbox1(e){e.checked&&(document.getElementById("ch2").checked=!1,document.getElementById("ch3").checked=!1,document.getElementById("ch4").checked=!1)}function OnChangeCheckbox2(e){e.checked&&(document.getElementById("ch1").checked=!1,document.getElementById("ch3").checked=!1,document.getElementById("ch4").checked=!1)}function OnChangeCheckbox3(e){e.checked&&(document.getElementById("ch1").checked=!1,document.getElementById("ch2").checked=!1,document.getElementById("ch4").checked=!1)}function OnChangeCheckbox4(e){e.checked&&(document.getElementById("ch1").checked=!1,document.getElementById("ch2").checked=!1,document.getElementById("ch3").checked=!1)}function dostep(){document.getElementById("ch1").checked&&(a+=.05*(Math.round(Ymax)-Math.round(Ymin)),a>Ymax&&(a=Math.round(Ymin)),document.getElementById("a").value=round(a)),document.getElementById("ch2").checked&&(b+=.05*DiffX,b>10&&(b=.01),document.getElementById("b").value=round(b)),document.getElementById("ch3").checked&&(h+=.05*DiffX,h>2&&(h=-2),document.getElementById("h").value=round(h)),document.getElementById("ch4").checked&&(k+=.05*DiffY,k>Ymax&&(k=Ymin),document.getElementById("k").value=round(k)),zeichne1()}function zeichne(){ok1(),ok2(),zeichneKS(),zeichne_funktion()}function zeichne1(){ok2(),zeichneKS(),zeichne_funktion()}function zeichneKS(){ctx.clearRect(0,0,W,H),ctx.beginPath(),ctx.strokeStyle="black",ctx.lineWidth="1",ctx.font="10px Arial";var e=row(0);ctx.moveTo(0,e),ctx.lineTo(W,e);var n=Math.floor(Xmin),t=Math.floor(Xmax),c=e,o=n;if(20>=DiffX)for(;t>=o;){var i=col(o);ctx.moveTo(i,c+3),ctx.lineTo(i,c-3),ctx.strokeText(o,i-3,c+10),o+=1}if(o=n+5-n%5,DiffX>20&&80>DiffX)for(;t>=o;){var i=col(o);ctx.moveTo(i,c+3),ctx.lineTo(i,c-3),ctx.strokeText(o,i-5,c+10),o+=5}ctx.moveTo(W-5,e-5),ctx.lineTo(W,e),ctx.moveTo(W-5,e+5),ctx.lineTo(W,e);var d=col(0);ctx.moveTo(d,0),ctx.lineTo(d,H);var m=Math.floor(Ymin),a=Math.floor(Ymax);i=d;var h=m;if(20>=DiffY)for(;a>=h;)0==h&&(h+=1),c=row(h),ctx.moveTo(i-3,c),ctx.lineTo(i+3,c),ctx.strokeText(h,i-12,c+3),h+=1;if(h=m+5-m%5,DiffY>20&&80>DiffY)for(;a>=h;)0==h&&(h+=5),c=row(h),ctx.moveTo(i-3,c),ctx.lineTo(i+3,c),ctx.strokeText(h,i-16,c+3),h+=5;ctx.moveTo(d-5,5),ctx.lineTo(d,0),ctx.moveTo(d+5,5),ctx.lineTo(d,0),ctx.stroke()}function zeichne_funktion(){ctx.beginPath(),ctx.strokeStyle="green";var e=f(Xmin,a,b,h,k),n=row(e);ctx.moveTo(0,n);for(var t=0;W>t;t++){var c=Xmin+DiffX/W*t,o=f(c,a,b,h,k);Math.abs(o-e)<DiffY/2&&1e5!=o?ctx.lineTo(t,row(o)):ctx.moveTo(t,row(o)),e=o}ctx.stroke()}function col(e){return(e-Xmin)/DiffX*W}function row(e){return(Ymax-e)/DiffY*H}function round(e){return Math.round(100*e)/100}function getMousePos(e,n){var t=e.getBoundingClientRect();return{x:n.clientX-t.left,y:n.clientY-t.top}}var W,H,Xmin=-1.1,Xmax=7.1,Ymin=-3.1,Ymax=3.1,ctx,DiffX=Xmax-Xmin,DiffY=Ymax-Ymin,a=1,b=1,h=0,k=0,einheitx,einheity,mousedown=!1,initmade=!1;window.onload=resizeCanvas;