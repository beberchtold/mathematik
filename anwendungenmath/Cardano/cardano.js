function r(e,t){return Math.sqrt(e*e+t*t)}function phi(e,t){return Math.atan2(t,e)}function realteil(e,t){return e*Math.cos(t)}function imagteil(e,t){return e*Math.sin(t)}function realteil_produkt(e,t,n,a){return e*n-t*a}function imagteil_produkt(e,t,n,a){return e*a+t*n}function ausgabe(e){return Math.round(1e7*e)/1e7}function ausgabe_komplex(e,t){return t>0?""+ausgabe(e)+" + "+ausgabe(t)+"i":0==t?""+ausgabe(e):0>t?""+ausgabe(e)+" - "+ausgabe(-t)+"i":void 0}function berechne(){var e=chkFormular();if(e){document.getElementById("txt").innerHTML="<p><b>Lösungen der Gleichung ax<sup>3</sup> + bx<sup>2</sup> +cx + d = 0</b></p>",document.getElementById("a").value=a,document.getElementById("b").value=b,document.getElementById("c").value=c,document.getElementById("d").value=d;var t=(3*a*c-b*b)/(9*a*a),n=2*b*b*b/(54*a*a*a)-b*c/(6*a*a)+d/(2*a),l=t*t*t+n*n;if(l>=0){var s=Math.sqrt(l),m=-n+s,o=-n-s;u=m>=0?Math.pow(m,1/3):-Math.pow(-m,1/3),v=o>=0?Math.pow(o,1/3):-Math.pow(-o,1/3);var i=u+v,p=u,g=0,y=v,M=0}else var x=Math.sqrt(-l),B=r(-n,x),E=phi(-n,x),I=r(-n,-x),h=phi(-n,-x),k=Math.pow(B,1/3),_=E/3,L=Math.pow(I,1/3),f=h/3,i=2*k*Math.cos(_),p=realteil(k,_),g=imagteil(k,_),y=realteil(L,f),M=imagteil(L,f);var H=-.5,T=Math.sqrt(3)/2,q=-.5,w=-Math.sqrt(3)/2,F=realteil_produkt(H,T,p,g)+realteil_produkt(q,w,y,M),z=imagteil_produkt(H,T,p,g)+imagteil_produkt(q,w,y,M),W=realteil_produkt(H,T,y,M)+realteil_produkt(q,w,p,g),D=imagteil_produkt(H,T,y,M)+imagteil_produkt(q,w,p,g);document.getElementById("txt").innerHTML+="p = "+ausgabe(t)+" &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",document.getElementById("txt").innerHTML+="q = "+ausgabe(n)+" &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",document.getElementById("txt").innerHTML+="D = "+ausgabe(l)+"<br>",document.getElementById("txt").innerHTML+='z<sub>1</sub> = -q + &radic;<span class="ol">D</span> = ',document.getElementById("txt").innerHTML+=l>=0?""+ausgabe(m):ausgabe_komplex(realteil(B,E),imagteil(B,E)),document.getElementById("txt").innerHTML+='&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z<sub>2</sub> = -q - &radic;<span class="ol">D</span> = ',document.getElementById("txt").innerHTML+=l>=0?""+ausgabe(o):ausgabe_komplex(realteil(I,h),imagteil(I,h)),document.getElementById("txt").innerHTML+="<br><br>u = z<sub>1</sub>^(1/3) = "+ausgabe_komplex(p,g),document.getElementById("txt").innerHTML+="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",document.getElementById("txt").innerHTML+="v = z<sub>2</sub>^(1/3) = "+ausgabe_komplex(y,M),document.getElementById("txt").innerHTML+="<br><br>y<sub>1</sub> = "+ausgabe(i)+" &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",document.getElementById("txt").innerHTML+="y<sub>2</sub> = "+ausgabe_komplex(F,z),document.getElementById("txt").innerHTML+="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y<sub>3</sub> = "+ausgabe_komplex(W,D);var G=b/(3*a),j=i-G,A=F-G,C=W-G;document.getElementById("txt").innerHTML+="<br><br><b>x<sub>1</sub> = "+ausgabe(j)+"</b><br>",document.getElementById("txt").innerHTML+="<b>x<sub>2</sub> = "+ausgabe_komplex(A,z)+"</b><br>",document.getElementById("txt").innerHTML+="<b>x<sub>3</sub> = "+ausgabe_komplex(C,D)+"</b>"}}function chkFormular(){return""==document.getElementById("a").value?(alert("Wert für a eingeben!"),!1):(a=parseFloat(document.getElementById("a").value),0==a?(alert("a darf nicht 0 sein"),document.getElementById("a").value="",!1):""==document.getElementById("b").value?(alert("Wert für b eingeben!"),!1):(b=parseFloat(document.getElementById("b").value),""==document.getElementById("c").value?(alert("Wert für c eingeben!"),!1):(c=parseFloat(document.getElementById("c").value),""==document.getElementById("d").value?(alert("Wert für d eingeben!"),!1):(d=parseFloat(document.getElementById("d").value),!0))))}var a,b,c,d;