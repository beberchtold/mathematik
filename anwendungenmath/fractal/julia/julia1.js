function resizeCanvas(){var e=document.getElementById("containercanvas");e.width=e.offsetWidth,W=e.width,W>460&&(W=460),H=Math.round(.75*W),H%2!=0&&H++,initmade?(resize1(),mandelbrot?zeichnemandelbrot():zeichne()):init()}function init(){initmade=!0,window.addEventListener("resize",function(){resizeCanvas()}),canvas1=document.getElementById("myCanvas"),resize1(),ctx=canvas1.getContext("2d"),canvas1.addEventListener("click",function(e){if(mandelbrot){var t=getMousePos(canvas1,e);cx=-2.4+3.8*t.x/W,cx>1.4&&(cx=1.4),cx=Math.round(1e3*cx)/1e3,cy=1.3-2.6*t.y/H,-1.3>cy&&(cy=-1.3),cy=Math.round(1e3*cy)/1e3,n=100,setzeWerte()}},!1),canvas1.addEventListener("mousemove",function(e){if(mandelbrot){var n=getMousePos(canvas1,e),t=-2.4+3.8*n.x/W;t=Math.round(1e3*t)/1e3;var a=1.3-2.6*n.y/H;a=Math.floor(1e3*a)/1e3,document.getElementById("Rec").innerHTML=""+t,document.getElementById("Imc").innerHTML=""+a}},!1),zeichne()}function resize1(){canvas1.width=W,canvas1.height=H}function mandel(){mandelbrot?zeichne():zeichnemandelbrot()}function zeichne(){mandelbrot=!1,X0=-1.5,X1=1.5;for(var e=ctx.getImageData(0,0,W,H),t=new ArrayBuffer(e.data.length),a=new Uint8ClampedArray(t),c=new Uint32Array(t),r=(X1-X0)/W,o=(Y1-Y0)/H,d=0;W>d;d++)for(var i=0;H/2>i;i++){for(var l=X0+r*d,m=Y0+o*i,u=0;Rmax>l*l+m*m&&n>u;){var v=l;l=l*l-m*m+cx,m=2*v*m-cy,u++}u==n&&(u=0);var f=u-farbe.length*Math.floor(u/farbe.length);c[i*W+d]=farbe[f];var y=W-1-d,s=H-1-i;c[s*W+y]=farbe[f]}e.data.set(a),ctx.putImageData(e,0,0)}function zeichnemandelbrot(){mandelbrot=!0,X0=-2.4,X1=1.4;for(var e=ctx.getImageData(0,0,W,H),t=new ArrayBuffer(e.data.length),a=new Uint8ClampedArray(t),c=new Uint32Array(t),r=(X1-X0)/W,o=(Y1-Y0)/H,d=0;W>d;d++)for(var i=0;H/2>i;i++){for(var l=X0+r*d,m=l,u=Y0+o*i,v=u,f=0;Rmax>m*m+v*v&&n>f;){var y=m;m=m*m-v*v+l,v=2*y*v+u,f++}f==n&&(f=0);var s=f-farbe.length*Math.floor(f/farbe.length);c[i*W+d]=farbe[s];var g=H-1-i;c[g*W+d]=farbe[s]}e.data.set(a),ctx.putImageData(e,0,0)}function einlesen(){n=""==document.getElementById("N").value?20:parseInt(document.getElementById("N").value),(20>n||""==n)&&(n=20),n>200&&(n=200),cx=""==document.getElementById("rc").value?-.7:parseFloat(document.getElementById("rc").value),-2.4>cx&&(cx=-2.4),cx>1.4&&(cx=1.4),cy=""==document.getElementById("ic").value?.3:parseFloat(document.getElementById("ic").value),-1.3>cy&&(cy=-1.3),cy>1.3&&(cy=1.3),0==cx&&0==cy&&(cx=-.7,cy=.3),setzeWerte(),zeichne()}function setzeWerte(){document.getElementById("N").value=n,document.getElementById("rc").value=cx,document.getElementById("ic").value=cy,document.getElementById("Rec").innerHTML=""+cx,document.getElementById("Imc").innerHTML=""+cy}function getMousePos(e,n){var t=e.getBoundingClientRect();return{x:n.clientX-t.left,y:n.clientY-t.top}}function logo(){cx=0,cy=1,n=100,setzeWerte(),zeichne()}var n=100,cx=-.7,cy=.3,mandelbrot=!1,farbe=[0,31,63,95,127,159,191,223,255,8191,16383,24575,32767,40959,49151,57343,65535,2097151,4194303,6291455,8388607,10485759,6684671,14680063,16777215,14680063,12582911,10485759,8388607,6291455,4194303,2097151,65535,57343,49151,40959,32767,24575,16383,8191,255,223,191,159,127,95,63,31];Rmax=4,Y0=-1.3,Y1=1.3;var canvas1,ctx,initmade=!1,W,H;window.onload=function(){mandel_image=document.getElementById("mandelpng"),resizeCanvas()};for(var j=0;j<farbe.length;j++){var color=farbe[j];farbe[j]=255<<24|(255&color)<<16|65280&color|color>>16}