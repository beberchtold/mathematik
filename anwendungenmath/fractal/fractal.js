function resizeCanvas(){var a=document.getElementById("containercanvas");a.width=a.offsetWidth,W=a.width,W>400&&(W=400),H=Math.round(.75*W),initmade?(resize1(),zeichne()):init()}function init(){initmade=!0,window.addEventListener("resize",function(){resizeCanvas()}),canvas1=document.getElementById("myCanvas"),resize1(),ctx=canvas1.getContext("2d"),farn()}function resize1(){canvas1.width=W,canvas1.height=H}function iterate(a,e,n,r,t,c,i,f,o){return q[0]=r[a]*e+t[a]*n+f[a],q[1]=c[a]*e+i[a]*n+o[a],q}function BerechneWkeit(a,e,n,r,t){for(var c=new Array(a),i=new Array(a),f=0,o=1;a>=o;o++)i[o]=Math.abs(e[o]*t[o]-n[o]*r[o]),f+=i[o];for(0==f&&(f=1e-4),c[0]=0,o=1;a>o;o++)i[o]=i[o]/f,0==i[o]&&(i[o]=.003),c[o]=c[o-1]+i[o];return c[a]=1,c}function zeichne(){var r=ctx.getImageData(0,0,W,H),t=new ArrayBuffer(r.data.length),o=new Uint8ClampedArray(t),h=new Uint32Array(t);for(q[0]=0,q[1]=0,p=BerechneWkeit(anzahl,a,b,c,d),document.getElementById("ART").innerHTML=fractal+" ("+n+" Punkte)",i=1;n>=i;i++){for(var l=Math.random(),u=0;!(p[u]<=l&&l<=p[u+1]);)u++;u++,q=iterate(u,q[0],q[1],a,b,c,d,e,f);var z=Math.round(q[0]*W),s=H-Math.round(q[1]*H*.97);h[s*W+z]=farbe[u]}r.data.set(o),ctx.putImageData(r,0,0)}function farn(){fractal="Farn",anzahl=4,a=[0,0,.197,-.15,.849],b=[0,0,-.226,.283,.037],c=[0,0,.226,.26,-.037],d=[0,.16,.197,.237,.849],e=[0,.5,.4,.575,.075],f=[0,0,.049,-.084,.183],zeichne()}function ahorn(){fractal="Ahorn",anzahl=5,a=[0,.352,.353,.5,.502,.004],b=[0,.355,-.354,0,-.002,0],c=[0,-.355,.354,0,.002,0],d=[0,.352,.353,.5,.588,.578],e=[0,.354,.288,.25,.25,.501],f=[0,.5,.153,.462,.105,.03],zeichne()}function sierpinski(){fractal="Sierpinski",anzahl=3,a=[0,.5,.5,.5],b=[0,0,0,0],c=b,d=[0,.5,.5,.5],e=[0,0,.5,.25],f=[0,0,0,.5],zeichne()}function eiche(){fractal="Eiche",anzahl=5,a=[0,.195,.462,-.058,-.035,-.637],b=[0,-.488,.414,-.07,.07,0],c=[0,.344,-.252,.453,-.469,0],d=[0,.443,.361,-.111,-.022,.501],e=[0,.4431,.2511,.5976,.4884,.8562],f=[0,.2452,.5692,.0969,.5069,.2513],zeichne()}function baum(){fractal="Baum",anzahl=8,a=[0,.0086,.4481,.0118,-.0447,.6314,.2711,-.1151,.0165],b=[0,-.127,.5287,-.0022,-.4193,-.1371,.3458,.2965,0],c=[0,.0053,-.2171,1e-4,.4365,.1303,-.2493,-.2193,0],d=[0,.2035,.5339,.3729,-.043,.6644,.3761,-.1556,.0613],e=[0,.5239,.2934,.5114,.4809,.1062,.3631,.6246,.5087],f=[0,.1685,.4904,.0195,.0941,.2368,.3575,.4381,.0022],zeichne()}function koch(){fractal="Koch",anzahl=4,a=[0,.3333,.3333,.1667,-.1667],b=[0,0,0,-.2887,.2887],c=[0,0,0,.2887,.2887],d=[0,.3333,.3333,.1667,.1667],e=[0,0,.6667,.3333,.6667],f=[0,0,0,0,0],zeichne()}function duerer(){fractal="Duerer",anzahl=5,a=[0,.382,.382,.382,.382,.382],b=[0,0,0,0,0,0],c=b,d=a,e=[0,.3072,.6033,.0139,.1253,.492],f=[0,.619,.4044,.4044,.0595,.0595],zeichne()}function menger(){fractal="Menger",anzahl=8,a=[0,.333,.333,.333,.333,.333,.333,.333,.333],b=[0,0,0,0,0,0,0,0,0],c=b,d=a,e=[0,0,.3333,.6667,0,.6667,0,.3333,.6667],f=[0,0,0,0,.3333,.3333,.6667,.6667,.6667],zeichne()}function doppelt(){8e4>=n&&(n=2*n,zeichne())}function halb(){n>=8e3&&(n/=2,zeichne())}var fractal,n=4e4,anzahl,farbe=[0,12800,25600,38400,49664,65280,3342080,6618880,9895680],q=new Array(1),a=new Array(8),b=new Array(8),c=new Array(8),d=new Array(8),e=new Array(8),f=new Array(8),canvas1,ctx,initmade=!1;window.onload=resizeCanvas;for(var j=0;j<farbe.length;j++){var color=farbe[j];farbe[j]=255<<24|(255&color)<<16|65280&color|color>>16}