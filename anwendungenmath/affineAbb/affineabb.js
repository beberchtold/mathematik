function resizeCanvas(){var e=document.getElementById("containercanvas");e.width=e.offsetWidth,W=e.width,H=Math.round(.8*W),initmade?(resize1(),zeichne()):init()}function OnChangeCheckbox1(e){e.checked&&(document.getElementById("Kreis").checked=!1,document.getElementById("F").checked=!1,document.getElementById("Dreieck").checked=!1,document.getElementById("Funktion").checked=!1)}function OnChangeCheckbox2(e){e.checked&&(document.getElementById("Quadrat").checked=!1,document.getElementById("F").checked=!1,document.getElementById("Dreieck").checked=!1,document.getElementById("Funktion").checked=!1)}function OnChangeCheckbox3(e){e.checked&&(document.getElementById("Kreis").checked=!1,document.getElementById("Quadrat").checked=!1,document.getElementById("Dreieck").checked=!1,document.getElementById("Funktion").checked=!1)}function OnChangeCheckbox4(e){e.checked&&(document.getElementById("Kreis").checked=!1,document.getElementById("F").checked=!1,document.getElementById("Quadrat").checked=!1,document.getElementById("Funktion").checked=!1)}function OnChangeCheckbox5(e){e.checked&&(document.getElementById("Kreis").checked=!1,document.getElementById("F").checked=!1,document.getElementById("Dreieck").checked=!1,document.getElementById("Quadrat").checked=!1)}function ok1(){return a1=parseFloat(document.getElementById("a1").value),isNaN(a1)?(alert("Fehler in a1"),!1):(b1=parseFloat(document.getElementById("b1").value),isNaN(b1)?(alert("Fehler in b1"),!1):(v1=parseFloat(document.getElementById("v1").value),isNaN(v1)?(alert("Fehler in v1"),!1):(a2=parseFloat(document.getElementById("a2").value),isNaN(a2)?(alert("Fehler in a2"),!1):(b2=parseFloat(document.getElementById("b2").value),isNaN(b2)?(alert("Fehler in b2"),!1):(v2=parseFloat(document.getElementById("v2").value),isNaN(v2)?(alert("Fehler in v2"),!1):!0)))))}function ok2(){return x1=parseFloat(document.getElementById("x1").value),isNaN(x1)?(alert("Fehler in x1"),!1):(y1=parseFloat(document.getElementById("y1").value),isNaN(y1)?(alert("Fehler in y1"),!1):(x2=parseFloat(document.getElementById("x2").value),isNaN(x2)?(alert("Fehler in x2"),!1):(y2=parseFloat(document.getElementById("y2").value),isNaN(y2)?(alert("Fehler in y2"),!1):(x3=parseFloat(document.getElementById("x3").value),isNaN(x3)?(alert("Fehler in x3"),!1):(y3=parseFloat(document.getElementById("y3").value),isNaN(y3)?(alert("Fehler in y3"),!1):!0)))))}function ok3(){return mx=parseFloat(document.getElementById("mx").value),isNaN(mx)?(alert("Fehler in mx"),!1):(my=parseFloat(document.getElementById("my").value),isNaN(my)?(alert("Fehler in my"),!1):(r=parseFloat(document.getElementById("r").value),isNaN(r)||0>r?(alert("Fehler in Radius"),!1):!0))}function f(x){return hilf=eval(term),isNaN(hilf)?1e5:hilf}function init(){initmade=!0,window.addEventListener("resize",function(){resizeCanvas()}),canvas1=document.getElementById("myCanvas"),resize1(),ctx=canvas1.getContext("2d"),DiffX=Xmax-Xmin,DiffY=Ymax-Ymin,zeichne()}function resize1(){canvas1.width=W,canvas1.height=H}function zeichne(){if(ok1()){if(zeichneKS(),document.getElementById("Funktion").checked){term=document.getElementById("f").value,ergaenze_term();var e=1.234567;try{{f(e)}}catch(t){return Fehlerbehandlung(),void 0}zeichne_funktion()}if(document.getElementById("Quadrat").checked&&zeichne_quadrat(),document.getElementById("F").checked&&zeichne_F(),document.getElementById("Dreieck").checked){if(!ok2())return;zeichne_dreieck(x1,y1,x2,y2,x3,y3)}if(document.getElementById("Kreis").checked){if(!ok3())return;zeichne_kreis(mx,my,r)}}}function zeichne_dreieck(e,t,n,c,r,a){strecke(e,t,n,c,"red","blue"),strecke(n,c,r,a,"red","blue"),strecke(r,a,e,t,"red","blue")}function zeichne_F(){strecke(0,0,0,2,"red","blue"),strecke(0,1,1,1,"red","blue"),strecke(0,2,1.5,2,"red","blue")}function zeichne_quadrat(){strecke(0,0,1,0,"red","blue"),strecke(1,0,1,1,"red","blue"),strecke(1,1,0,1,"red","blue"),strecke(0,1,0,0,"red","blue")}function zeichne_kreis(e,t,n){for(var c=0,r=Math.PI/60;c<2*Math.PI;){var a=e+n*Math.cos(c),o=t+n*Math.sin(c);c+=r;var i=e+n*Math.cos(c),l=t+n*Math.sin(c);strecke(a,o,i,l,"red","blue")}}function zeichneKS(){ctx.clearRect(0,0,W,H),ctx.beginPath(),ctx.strokeStyle="black",ctx.lineWidth="1",ctx.font="10px Arial";var e=row(0);ctx.moveTo(0,e),ctx.lineTo(W,e);for(var t=Math.floor(Xmin),n=Math.floor(Xmax),c=e,r=t;n>=r;){var a=col(r);ctx.moveTo(a,c+3),ctx.lineTo(a,c-3),ctx.strokeText(r,a-3,c+10),r+=1}ctx.moveTo(W-5,e-5),ctx.lineTo(W,e),ctx.moveTo(W-5,e+5),ctx.lineTo(W,e);var o=col(0);ctx.moveTo(o,0),ctx.lineTo(o,H);var i=Math.floor(Ymin),l=Math.floor(Ymax);a=o;for(var m=i;l>=m;)0==m&&(m+=1),c=row(m),ctx.moveTo(a-3,c),ctx.lineTo(a+3,c),ctx.strokeText(m,a-12,c+3),m+=1;ctx.moveTo(o-5,5),ctx.lineTo(o,0),ctx.moveTo(o+5,5),ctx.lineTo(o,0),ctx.stroke()}function zeichne_funktion(){for(var e=Xmin,t=f(e),n=DiffX/360;Xmax>e+n;){var c=e+n;y2=f(c),isNaN(t)||isNaN(y2)||Math.abs(y2-t)<10&&strecke(e,t,c,y2,"green","blue"),e=c,t=y2}}function quer(e,t,n,c,r){return n*e+c*t+r}function strecke(e,t,n,c,r,a){ctx.beginPath(),ctx.strokeStyle=r,ctx.moveTo(col(e),row(t)),ctx.lineTo(col(n),row(c)),ctx.stroke(),ctx.beginPath(),ctx.strokeStyle=a,ctx.moveTo(col(quer(e,t,a1,b1,v1)),row(quer(e,t,a2,b2,v2))),ctx.lineTo(col(quer(n,c,a1,b1,v1)),row(quer(n,c,a2,b2,v2))),ctx.stroke()}function col(e){return(e-Xmin)/DiffX*W}function row(e){return(Ymax-e)/DiffY*H}function ergaenze_term(){term=term.replace(/asin/g,"hilfa"),term=term.replace(/acos/g,"hilfb"),term=term.replace(/atan/g,"hilfc"),term=term.replace(/sin/g,"Math.sin"),term=term.replace(/cos/g,"Math.cos"),term=term.replace(/tan/g,"Math.tan"),term=term.replace(/hilfa/g,"Math.asin"),term=term.replace(/hilfb/g,"Math.acos"),term=term.replace(/hilfc/g,"Math.atan"),term=term.replace(/abs/g,"Math.abs"),term=term.replace(/pow/g,"Math.pow"),term=term.replace(/sqrt/g,"Math.sqrt"),term=term.replace(/log/g,"Math.log"),term=term.replace(/ln/g,"Math.log"),term=term.replace(/exp/g,"Math.ixp"),term=term.replace(/e/g,"Math.E"),term=term.replace(/Math.ixp/g,"Math.exp"),term=term.replace(/pi/g,"Math.PI")}function Fehlerbehandlung(){alert("Fehler im Funktionsterm. Bitte korrigieren.")}var W,H,Xmin=-8,Xmax=8,Ymin=-6,Ymax=7,ctx,DiffX,DiffY,term,a1,b1,v1,a2,b2,v2,x1,y1,x2,y2,x3,y3,mx,my,r,canvas1,initmade=!1;window.onload=resizeCanvas;