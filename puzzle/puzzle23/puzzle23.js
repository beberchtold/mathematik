Gold=new Image();Gold.src="hase1.png";Silber=new Image();Silber.src="hase2.png";Leer=new Image();Leer.src="leer.png";Goldjump_l=new Image();Goldjump_r=new Image();Goldjump_l.src="hase1_jump_l.png";Goldjump_r.src="hase1_jump_r.png";Silberjump_l=new Image();Silberjump_r=new Image();Silberjump_l.src="hase2_jump_l.png";Silberjump_r.src="hase2_jump_r.png";var nummer=0;var eingelesen=false;var a=new Array(9);var Zugnr=new Array(15);Loesnr=new Array(15);var zaehler=0;var wait1,wait2;var Bildnummer;var j;function init(){var c,b;a[0]=5;a[8]=5;for(c=1;c<=3;c++){a[c]=1}for(c=5;c<=7;c++){a[c]=-1}a[4]=0;Zugnummer.innerHTML=0;Antwort.innerHTML="Viel Erfolg!"}function Bildwechsel(b,c){var d=b+7;document.getElementById(d).src=c.src}function Ziehe(e,c,b){var d;Bildnummer=e;Bildwechsel(e,Leer);if(Math.abs(e-c)==1){if(b==1){Bildwechsel(c,Gold)}else{Bildwechsel(c,Silber)}}if(Math.abs(e-c)==2){j=0;if(b==1){startup_gold()}else{startup_silber()}}nummer++;Zugnummer.innerHTML=nummer;Zugnr[nummer]=e*10+c;if(Zugnr[nummer]!=Loesnr[nummer]&&eingelesen){Antwort.innerHTML="Viel Erfolg!";for(d=nummer+1;d<=15;d++){Zugnr[d]=0}eingelesen=false}if(erfolg()&&!eingelesen){Antwort.innerHTML="Gratuliere!"}if(eingelesen&&nummer==15){Antwort.innerHTML="Ziel erreicht!"}}function Pruefe(b){var d,c;d=b;if(a[d]!=0&&!erfolg()){c=a[d];if((a[d-1]==0)&&(a[d]==-1)){a[d-1]=a[d];a[d]=0;Ziehe(b,b-1,c)}if((a[d+1]==0)&&(a[d]==1)){a[d+1]=a[d];a[d]=0;Ziehe(b,b+1,c)}if((a[d-2]==0)&&(a[d]==-1)){a[d-2]=a[d];a[d]=0;Ziehe(b,b-2,c)}if((a[d+2]==0)&&(a[d]==1)){a[d+2]=a[d];a[d]=0;Ziehe(b,b+2,c)}}}function Zugruecknehmen(){var f,d,e,c,b;if(nummer>0){var g=Zugnr[nummer];e=Math.floor(g/10);c=g-e*10;f=e;d=c;b=a[d];a[f]=a[d];a[d]=0;if(b==1){Bildwechsel(e,Gold)}else{Bildwechsel(e,Silber)}Bildwechsel(c,Leer);nummer--;Zugnummer.innerHTML=nummer;if(eingelesen){Antwort.innerHTML="Demo!"}else{Antwort.innerHTML="Viel Erfolg!"}}}function Wiederausfuehren(){var f,d,e,c,b;if(Zugnr[nummer+1]>0){var g=Zugnr[nummer+1];e=Math.floor(g/10);c=g-e*10;f=e;d=c;b=a[f];a[d]=a[f];a[f]=0;Ziehe(e,c,b)}}function loesung(){var b;while(nummer>0){Zugruecknehmen()}nummer=0;Loesnr=[0,34,53,65,46,24,12,31,53,75,67,46,24,32,53,45];for(b=1;b<=15;b++){Zugnr[b]=Loesnr[b]}eingelesen=true;Antwort.innerHTML="Demo!";alert("Demozüge eingelesen! \nMit Klicken auf 'Zug wieder ausführen' können Sie die Partie abspielen")}function erfolg(){var c,b;for(c=1;c<=3;c++){if(a[c]!=-1){return(false)}}for(c=5;c<=7;c++){if(a[c]!=1){return(false)}}return(true)}function startup_gold(){if(j==0){j=1;wait1=setTimeout("startup_gold()",1)}else{animation_gold()}}function animation_gold(){zaehler++;switch(zaehler){case 1:Bildwechsel(Bildnummer-7,Goldjump_l);Bildwechsel(Bildnummer-6,Goldjump_r);break;case 2:Bildwechsel(Bildnummer-7,Leer);Bildwechsel(Bildnummer-6,Leer);break;case 3:Bildwechsel(Bildnummer+2,Gold);clearTimeout(wait1);clearTimeout(wait2);zaehler=0;break}if(zaehler>0){if(j>0){j--;wait2=setTimeout("animation_gold()",250)}else{wait1=setTimeout("startup_gold()",1)}}}function startup_silber(){if(j==0){j=1;wait1=setTimeout("startup_silber()",1)}else{animation_silber()}}function animation_silber(){zaehler++;switch(zaehler){case 1:Bildwechsel(Bildnummer-8,Silberjump_l);Bildwechsel(Bildnummer-7,Silberjump_r);break;case 2:Bildwechsel(Bildnummer-8,Leer);Bildwechsel(Bildnummer-7,Leer);break;case 3:Bildwechsel(Bildnummer-2,Silber);clearTimeout(wait1);clearTimeout(wait2);zaehler=0;break}if(zaehler>0){if(j>0){j--;wait2=setTimeout("animation_silber()",250)}else{wait1=setTimeout("startup_silber()",1)}}};