function init(){var e,n;for(e=0;80>=e;e++)a[e]=5;for(n=0;2>=n;n++)for(e=20;22>=e;e++)a[e+9*n]=1;for(n=0;2>=n;n++)for(e=40;42>=e;e++)a[e+9*n]=-1;a[40]=0,Zugnummer.innerHTML=0,Antwort.innerHTML="Viel Erfolg!"}function Bildwechsel(e,n){document.getElementById(e).src=n.src}function Ziehe(e,n,r){var i;if(1==r?Bildwechsel(n,Gold):Bildwechsel(n,Silber),Bildwechsel(e,Leer),nummer++,Zugnummer.innerHTML=nummer,Zugnr[nummer]=100*e+n,Zugnr[nummer]!=Loesnr[nummer]&&eingelesen){for(Antwort.innerHTML="Viel Erfolg!",i=nummer+1;46>=i;i++)Zugnr[i]=0;eingelesen=!1}80==nummer&&(Antwort.innerHTML="80 Züge!"),erfolg()&&!eingelesen&&(Antwort.innerHTML="Gratuliere!"),eingelesen&&46==nummer&&(Antwort.innerHTML="Ziel erreicht!")}function Bestimmeindex(e){return 4>e?e+19:e>3&&7>e?e+25:e>6&&12>e?e+31:e>11&&15>e?e+37:e>14&&18>e?e+43:void 0}function Pruefe(e){var n,r;n=Bestimmeindex(e),0!=a[n]&&80>nummer&&!erfolg()&&(r=a[n],0==a[n-1]&&(a[n-1]=a[n],a[n]=0,Ziehe(e,e-1,r)),0==a[n+1]&&(a[n+1]=a[n],a[n]=0,Ziehe(e,e+1,r)),0==a[n-9]&&(a[n-9]=a[n],a[n]=0,Ziehe(e,e-3,r)),0==a[n+9]&&(a[n+9]=a[n],a[n]=0,Ziehe(e,e+3,r)),0==a[n-2]&&(a[n-2]=a[n],a[n]=0,Ziehe(e,e-2,r)),0==a[n+2]&&(a[n+2]=a[n],a[n]=0,Ziehe(e,e+2,r)),0==a[n-18]&&(a[n-18]=a[n],a[n]=0,Ziehe(e,e-6,r)),0==a[n+18]&&(a[n+18]=a[n],a[n]=0,Ziehe(e,e+6,r)))}function Zugruecknehmen(){var e,n,r,i,m;if(nummer>0){var u=Zugnr[nummer];r=Math.floor(u/100),i=u-100*r,e=Bestimmeindex(r),n=Bestimmeindex(i),m=a[n],a[e]=a[n],a[n]=0,1==m?Bildwechsel(r,Gold):Bildwechsel(r,Silber),Bildwechsel(i,Leer),nummer--,Zugnummer.innerHTML=nummer,Antwort.innerHTML=eingelesen?"Demo!":"Viel Erfolg!"}}function Wiederausfuehren(){var e,n,r,i,m;if(Zugnr[nummer+1]>0){var u=Zugnr[nummer+1];r=Math.floor(u/100),i=u-100*r,e=Bestimmeindex(r),n=Bestimmeindex(i),m=a[e],a[n]=a[e],a[e]=0,Ziehe(r,i,m)}}function loesung(){for(var e;nummer>0;)Zugruecknehmen();for(nummer=0,Loesnr=[0,1209,612,306,903,1109,1411,1214,612,406,104,301,903,1109,1711,1417,1214,612,906,1009,810,208,302,903,1109,1011,810,708,907,1509,1615,1016,810,508,605,406,704,907,1509,1215,1312,1013,810,908,609,1206,912],e=1;46>=e;e++)Zugnr[e]=Loesnr[e];eingelesen=!0,Antwort.innerHTML="Demo!",alert("Demozüge eingelesen! \nMit Klicken auf 'Zug wieder ausführen' können Sie die Partie abspielen")}function erfolg(){var e,n;for(n=0;1>=n;n++)for(e=20;22>=e;e++)if(-1!=a[e+9*n])return!1;if(-1!=a[38]||-1!=a[39])return!1;if(1!=a[41]||1!=a[42])return!1;for(n=1;2>=n;n++)for(e=40;42>=e;e++)if(1!=a[e+9*n])return!1;return 0!=a[40]?!1:!0}Gold=new Image,Gold.src="gold.png",Silber=new Image,Silber.src="silber.png",Leer=new Image,Leer.src="leer.png";var nummer=0,eingelesen=!1,a=new Array(80),Zugnr=new Array(80);Loesnr=new Array(80),window.onload=init;