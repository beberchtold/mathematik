Gold=new Image();Gold.src="gold.png";Silber=new Image();Silber.src="silber.png";Leer=new Image();Leer.src="leer.png";var nummer=0;var eingelesen=false;var a=new Array(80);var Zugnr=new Array(80);Loesnr=new Array(80);window.onload=init;function init(){var c,b;for(c=0;c<=80;c++){a[c]=5}for(b=0;b<=2;b++){for(c=20;c<=22;c++){a[c+9*b]=1}}for(b=0;b<=2;b++){for(c=40;c<=42;c++){a[c+9*b]=-1}}a[40]=0;document.getElementById("menuicon").addEventListener("click",menu);Zugnummer.innerHTML=0;Antwort.innerHTML="Viel Erfolg!"}function Bildwechsel(b,c){document.getElementById(b).src=c.src}function Ziehe(e,c,b){var d;if(b==1){Bildwechsel(c,Gold)}else{Bildwechsel(c,Silber)}Bildwechsel(e,Leer);nummer++;Zugnummer.innerHTML=nummer;Zugnr[nummer]=e*100+c;if(Zugnr[nummer]!=Loesnr[nummer]&&eingelesen){Antwort.innerHTML="Viel Erfolg!";for(d=nummer+1;d<=46;d++){Zugnr[d]=0}eingelesen=false}if(nummer==80){Antwort.innerHTML="80 Züge!"}if(erfolg()&&!eingelesen){Antwort.innerHTML="Gratuliere!"}if(eingelesen&&nummer==46){Antwort.innerHTML="Ziel erreicht!"}}function Bestimmeindex(b){if(b<4){return(b+19)}if(b>3&&b<7){return(b+25)}if(b>6&&b<12){return(b+31)}if(b>11&&b<15){return(b+37)}if(b>14&&b<18){return(b+43)}}function Pruefe(b){var d,c;d=Bestimmeindex(b);if(a[d]!=0&&nummer<80&&!erfolg()){c=a[d];if(a[d-1]==0){a[d-1]=a[d];a[d]=0;Ziehe(b,b-1,c)}if(a[d+1]==0){a[d+1]=a[d];a[d]=0;Ziehe(b,b+1,c)}if(a[d-9]==0){a[d-9]=a[d];a[d]=0;Ziehe(b,b-3,c)}if(a[d+9]==0){a[d+9]=a[d];a[d]=0;Ziehe(b,b+3,c)}if(a[d-2]==0){a[d-2]=a[d];a[d]=0;Ziehe(b,b-2,c)}if(a[d+2]==0){a[d+2]=a[d];a[d]=0;Ziehe(b,b+2,c)}if(a[d-18]==0){a[d-18]=a[d];a[d]=0;Ziehe(b,b-6,c)}if(a[d+18]==0){a[d+18]=a[d];a[d]=0;Ziehe(b,b+6,c)}}}function Zugruecknehmen(){var f,d,e,c,b;if(nummer>0){var g=Zugnr[nummer];e=Math.floor(g/100);c=g-e*100;f=Bestimmeindex(e);d=Bestimmeindex(c);b=a[d];a[f]=a[d];a[d]=0;if(b==1){Bildwechsel(e,Gold)}else{Bildwechsel(e,Silber)}Bildwechsel(c,Leer);nummer--;Zugnummer.innerHTML=nummer;if(eingelesen){Antwort.innerHTML="Demo!"}else{Antwort.innerHTML="Viel Erfolg!"}}}function Wiederausfuehren(){var f,d,e,c,b;if(Zugnr[nummer+1]>0){var g=Zugnr[nummer+1];e=Math.floor(g/100);c=g-e*100;f=Bestimmeindex(e);d=Bestimmeindex(c);b=a[f];a[d]=a[f];a[f]=0;Ziehe(e,c,b)}}function loesung(){var b;while(nummer>0){Zugruecknehmen()}nummer=0;Loesnr=[0,1209,612,306,903,1109,1411,1214,612,406,104,301,903,1109,1711,1417,1214,612,906,1009,810,208,302,903,1109,1011,810,708,907,1509,1615,1016,810,508,605,406,704,907,1509,1215,1312,1013,810,908,609,1206,912];for(b=1;b<=46;b++){Zugnr[b]=Loesnr[b]}eingelesen=true;Antwort.innerHTML="Demo!";alert("Demozüge eingelesen! \nMit Klicken auf 'Zug wieder ausführen' können Sie die Partie abspielen")}function erfolg(){var c,b;for(b=0;b<=1;b++){for(c=20;c<=22;c++){if(a[c+9*b]!=-1){return(false)}}}if(a[38]!=-1||a[39]!=-1){return(false)}if(a[41]!=1||a[42]!=1){return(false)}for(b=1;b<=2;b++){for(c=40;c<=42;c++){if(a[c+9*b]!=1){return(false)}}}if(a[40]!=0){return(false)}return(true)}function menu(){var b=window.open("/menu_js.html","Menu","width=300,height=520,left=100,top=100");b.focus()};